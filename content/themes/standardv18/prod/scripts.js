"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),addEvents={toClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.trigger,n=e.target,i=void 0===n?null:n,a=e.type,s=void 0===a?"click":a,o=e.callback,l=document.getElementsByClassName(t);l&&l.length>0&&Array.prototype.forEach.call(l,function(e){e.addEventListener(s,function(e){e.preventDefault();var t=document.getElementById(i);o(l,t)})})},toID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.trigger,n=e.target,i=void 0===n?null:n,a=e.type,s=void 0===a?"click":a,o=e.callback,l=document.getElementById(t);l&&l.addEventListener(s,function(e){e.preventDefault();var t=document.getElementById(i);o(l,t)})}},toggleMobileMenu=function(){addEvents.toClass({trigger:"js-menu-toggle",target:"mobile-menu",callback:function(e,t){t.classList.toggle("open")}})},toggleMap=function(){addEvents.toID({trigger:"toggle-map",target:"maps",callback:function(e,t){e.classList.toggle("has-arrow-down"),e.classList.toggle("has-arrow-up"),t.classList.toggle("hidden")}})},scroll={curr:0,end:0,trigger:function(e,t){var n=this;addEvents.toClass({trigger:e,target:t,callback:function(e,t){n.to(t)}})},to:function(e){this.end=e.getBoundingClientRect().top,setTimeout(this.moveScroll.bind(this),20)},moveScroll:function(){this.curr+=50,document.body.scrollTop=this.curr,document.documentElement.scrollTop=this.curr,this.curr<this.end&&setTimeout(this.moveScroll.bind(this),20)}},scrollNavigate=function(){var e=document.getElementsByClassName("navigate");if(e&&e.length>0){var t=e[0].href,n=t.split("#")[1];scroll.trigger("navigate",n)}},draggable=function(){var e=document.getElementById("dragmap");e&&e.draggable&&e.draggable({containment:".map-contanier",scroll:!1})},popDownLogic=function(){var e=document.getElementById("popdown");e&&setTimeout(function(){e.classList.add("active")},1200),addEvents.toClass({trigger:"popdown-close",target:"popdown",callback:function(e,t){t.classList.remove("active")}})},SlideShow=function(){function e(t){var n=this,i=t.target,a=t.timer,s=void 0===a?6e3:a,o=t.indx,l=void 0===o?0:o,c=t.pause,r=void 0!==c&&c,d=t.bttnNext,u=void 0===d?i+"-right":d,g=t.bttnPrev,h=void 0===g?i+"-right":g;_classCallCheck(this,e),Object.assign(this,{timer:s,indx:l,pause:r}),this.$gallery=document.getElementById(i),this.slides=this.$gallery.children,this.timer=s,this.$bttnPrev=document.getElementById(h),this.$bttnPrev.addEventListener("click",function(e){e.preventDefault(),n.onClick("left")}),this.$bttnNext=document.getElementById(u),this.$bttnNext.addEventListener("click",function(e){e.preventDefault(),n.onClick("right")})}return _createClass(e,[{key:"start",value:function(){this.changeSlide(),this.countDown()}},{key:"changeSlide",value:function(){var e=this;Array.prototype.forEach.call(this.slides,function(t,n){n>e.indx?e.addFade(t):e.removeFade(t)})}},{key:"resetSlides",value:function(){Array.prototype.forEach.call(this.slides,function(e){e.classList.remove("fade")})}},{key:"onClick",value:function(e){switch(e){case"left":this.setPause(),this.prev(),this.changeSlide();break;case"right":this.setPause(),this.next(),this.changeSlide();break;default:this.changeSlide()}}},{key:"next",value:function(){this.indx+=1,this.checkIndx()}},{key:"prev",value:function(){this.indx-=1,this.checkIndx()}},{key:"checkIndx",value:function(){this.indx<0?this.indx=this.slides.length-1:this.indx>this.slides.length-1&&(this.indx=0)}},{key:"setPause",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;this.pause||(this.pause=!0,setTimeout(function(){e.pause=!1},t))}},{key:"resetTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;this.timer=e}},{key:"spendTime",value:function(){this.timer-=1e3}},{key:"countDown",value:function(){0===this.timer?(this.next(),this.changeSlide(),this.resetTime()):this.pause||this.spendTime(),setTimeout(this.countDown.bind(this),1e3)}}],[{key:"removeFade",value:function(e){e.classList.remove("fade")}},{key:"addFade",value:function(e){e.classList.add("fade")}}]),e}(),initSlider=function(){document.getElementById("gallery-images")&&new SlideShow("gallery-sliders").start();document.getElementById("header-slides")&&new SlideShow("header-slides").start()};document.onreadystatechange=function(){"complete"===document.readyState&&(toggleMobileMenu(),scrollNavigate(),toggleMap(),draggable(),popDownLogic(),initSlider())};